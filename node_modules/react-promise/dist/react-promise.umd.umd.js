!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t(e.reactPromise={},e.react,e.PropTypes)}(this,function(e,t,n){t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var o={none:"none",pending:"pending",rejected:"rejected",resolved:"resolved"},r=function(e){function t(t){e.call(this,t),this.state={status:o.none}}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentWillReceiveProps=function(e){e.promise!==this.props.promise&&(this.setState({status:o.none}),this.handlePromise(e.promise))},t.prototype.handlePromise=function(e){var t=this;this.promise=e,this.setState({status:o.pending}),e.then(function(n){t.promise===e&&(t.unmounted||t.setState({status:o.resolved,value:n}))},function(n){t.promise===e&&(t.unmounted||t.setState({status:o.rejected,value:n}))})},t.prototype.componentWillMount=function(){this.props.promise&&this.handlePromise(this.props.promise)},t.prototype.componentWillUnmount=function(){this.unmounted=!0},t.prototype.render=function(){var e=this.props,n=this.state;switch(n.status){case o.none:if(e.before)return e.before(this.handlePromise.bind(this));break;case o.pending:if(e.pending)return"function"==typeof e.pending?e.pending():e.pending;if(t.defaultPending)return"function"==typeof t.defaultPending?t.defaultPending():t.defaultPending;break;case o.resolved:if(e.then)return e.then(n.value);break;case o.rejected:if(e.catch)return e.catch(n.value)}return null},t}(t.Component);r.propTypes={before:n.func,then:n.func,catch:n.func,pending:n.oneOfType([n.node,n.func]),promise:n.object},r.Async=r,e.Async=r,e.default=r});
//# sourceMappingURL=react-promise.umd.umd.js.map
